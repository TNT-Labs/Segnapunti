/* ===================================================================
   OTTIMIZZAZIONI MOBILE - Box Giocatori Compatti
   =================================================================== */

/* ========================================
   OTTIMIZZAZIONE BOX GIOCATORE PER MOBILE
   ======================================== */

.giocatori-lista li {
  padding: 10px 12px; /* Ridotto da 15-20px */
  margin-bottom: 8px; /* Ridotto da 10-15px */
  border-radius: 10px; /* Ridotto da 12px */
  min-height: auto; /* Rimuovi altezza minima eccessiva */
}

/* Header giocatore più compatto */
.giocatore-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px; /* Ridotto da 12px */
  gap: 8px;
}

.giocatore-nome {
  font-size: 1.1em; /* Ridotto da 1.2-1.3em */
  font-weight: 700;
  color: var(--colore-primario);
  flex-grow: 1;
  line-height: 1.2;
  word-break: break-word;
}

.giocatore-punteggio {
  font-size: 1.4em; /* Ridotto da 1.6-1.8em */
  font-weight: 800;
  color: var(--colore-primario);
  min-width: 60px; /* Ridotto da 80px */
  text-align: right;
  flex-shrink: 0;
}

/* Sezione rounds più compatta */
.giocatore-rounds {
  display: flex;
  align-items: center;
  gap: 6px; /* Ridotto da 8px */
  margin-bottom: 6px; /* Ridotto da 8px */
  font-size: 0.85em; /* Ridotto da 0.9em */
  padding: 4px 0; /* Ridotto padding verticale */
}

.giocatore-rounds-label {
  color: var(--colore-testo);
  opacity: 0.8;
  font-weight: 600;
}

.giocatore-rounds-count {
  font-weight: 700;
  color: var(--colore-primario);
  font-size: 1.1em;
}

/* Azioni giocatore - Layout orizzontale compatto */
.giocatore-actions {
  display: grid;
  grid-template-columns: 1fr 1fr auto; /* 3 colonne: 2 pulsanti larghi + 1 stretto */
  gap: 6px; /* Ridotto da 8px */
  margin-top: 8px; /* Ridotto da 10px */
}

/* Pulsanti più compatti */
.giocatore-actions button {
  padding: 8px 12px; /* Ridotto da 10px 15px */
  font-size: 0.85em; /* Ridotto da 0.9em */
  border-radius: 6px; /* Ridotto da 8px */
  font-weight: 600;
  min-height: 36px; /* Touch-friendly ma compatto */
  white-space: nowrap;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
}

/* Pulsante elimina più stretto */
.giocatore-actions .btn-rimuovi {
  padding: 8px 10px;
  font-size: 1.1em; /* Solo emoji */
  min-width: 36px;
  aspect-ratio: 1;
}

/* ========================================
   OTTIMIZZAZIONI SPECIFICHE MOBILE
   ======================================== */

@media (max-width: 600px) {
  /* Container con meno padding */
  .container {
    padding: 15px 12px 90px 12px; /* Ridotto padding laterale */
  }

  /* Header più compatto */
  .fixed-header {
    padding: 12px 15px; /* Ridotto da 15px 20px */
    min-height: 56px; /* Ridotto da 60px */
  }

  .fixed-header h1 {
    font-size: 1.3em; /* Ridotto da 1.5em */
  }

  /* Box giocatore ultra-compatto su mobile */
  .giocatori-lista li {
    padding: 8px 10px; /* Ancora più compatto */
    margin-bottom: 6px; /* Spazio minimo tra box */
  }

  .giocatore-header {
    margin-bottom: 6px;
  }

  .giocatore-nome {
    font-size: 1em; /* Più piccolo su mobile */
  }

  .giocatore-punteggio {
    font-size: 1.3em; /* Più piccolo su mobile */
    min-width: 50px;
  }

  /* Rounds ancora più compatti */
  .giocatore-rounds {
    font-size: 0.8em;
    margin-bottom: 4px;
    gap: 4px;
  }

  /* Azioni con layout a 2 colonne su mobile molto piccolo */
  @media (max-width: 380px) {
    .giocatore-actions {
      grid-template-columns: 1fr 1fr; /* 2 colonne */
      grid-template-rows: auto auto;
    }
    
    .giocatore-actions button:nth-child(1) {
      grid-column: 1 / 2;
    }
    
    .giocatore-actions button:nth-child(2) {
      grid-column: 2 / 3;
    }
    
    .giocatore-actions button:nth-child(3) {
      grid-column: 1 / -1; /* Elimina prende tutta la riga */
      max-width: 120px;
      margin: 0 auto;
    }
  }

  /* Pulsanti ancora più compatti */
  .giocatore-actions button {
    padding: 7px 10px;
    font-size: 0.8em;
    min-height: 34px;
  }

  /* Separatori più sottili */
  .separator {
    margin: 15px 0; /* Ridotto da 20px */
  }

  /* Quick score buttons più compatti nel modal */
  .quick-score-buttons {
    grid-template-columns: repeat(3, 1fr); /* 3 colonne invece di 2 */
    gap: 6px; /* Ridotto da 8px */
  }

  .quick-score-buttons button {
    padding: 8px 6px; /* Più compatto */
    font-size: 0.85em;
    min-height: 40px;
  }
}

/* ========================================
   OTTIMIZZAZIONE BOTTOM NAV
   ======================================== */

.bottom-nav {
  padding: 4px 0; /* Ridotto da 6-8px */
  height: 64px; /* Altezza fissa più bassa */
}

.bottom-nav .nav-item {
  padding: 4px 8px; /* Ridotto */
  min-width: 55px; /* Ridotto */
}

.bottom-nav .nav-icon {
  font-size: 1.2em; /* Ridotto da 1.4em */
  margin-bottom: 2px;
}

.bottom-nav .nav-label {
  font-size: 0.65em; /* Ridotto da 0.75em */
}

/* ========================================
   MIGLIORAMENTI LISTA GIOCATORI
   ======================================== */

/* Lista più densa */
.giocatori-lista {
  list-style: none;
  padding: 0;
  margin: 0;
}

/* Alternating colors più sottili per non appesantire */
.giocatori-lista li:nth-child(odd) {
  background: var(--colore-card);
}

.giocatori-lista li:nth-child(even) {
  background: rgba(75, 134, 180, 0.03);
}

body.dark-mode .giocatori-lista li:nth-child(even) {
  background: rgba(122, 174, 214, 0.03);
}

/* ========================================
   OTTIMIZZAZIONE FORM AGGIUNGI PUNTI
   ======================================== */

.modal-content {
  padding: 20px; /* Ridotto da 25px */
  max-height: 85vh; /* Limita altezza su mobile */
  overflow-y: auto;
}

.modal-content h2 {
  font-size: 1.3em; /* Ridotto da 1.5em */
  margin-bottom: 15px; /* Ridotto */
}

#punteggio-input-custom {
  padding: 10px 12px; /* Ridotto */
  font-size: 1.1em; /* Ridotto */
  margin-bottom: 12px; /* Ridotto */
}

/* ========================================
   UTILITY CLASSES PER COMPATTEZZA
   ======================================== */

.compact-spacing {
  margin: 6px 0 !important;
  padding: 6px 0 !important;
}

.compact-text {
  font-size: 0.85em !important;
  line-height: 1.3 !important;
}

/* ========================================
   MIGLIORAMENTI PRESTAZIONI
   ======================================== */

/* Riduzione animazioni su mobile per performance */
@media (max-width: 600px) {
  * {
    transition-duration: 0.2s !important; /* Animazioni più veloci */
  }
  
  .giocatori-lista li {
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }
}

/* ========================================
   DARK MODE OTTIMIZZATO
   ======================================== */

body.dark-mode .giocatori-lista li {
  border-color: #333;
}

body.dark-mode .giocatore-nome,
body.dark-mode .giocatore-punteggio {
  color: var(--colore-secondario);
}

/* ========================================
   ACCESSIBILITÀ TOUCH
   ======================================== */

/* Assicura che tutti i pulsanti siano touch-friendly */
button,
.btn-primary,
.btn-secondary,
.btn-reset,
.btn-rimuovi {
  min-height: 44px; /* Standard iOS touch target */
  min-width: 44px;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

@media (max-width: 600px) {
  button,
  .btn-primary,
  .btn-secondary,
  .btn-reset {
    min-height: 40px; /* Leggermente ridotto per compattezza */
  }
  
  .btn-rimuovi {
    min-height: 36px;
    min-width: 36px;
  }
}

/* ========================================
   SCROLL OTTIMIZZATO
   ======================================== */

/* Smooth scroll con momentum su iOS */
.giocatori-lista,
.storico-lista {
  -webkit-overflow-scrolling: touch;
  overflow-y: auto;
}

/* Nascondi scrollbar ma mantieni funzionalità */
.giocatori-lista::-webkit-scrollbar,
.storico-lista::-webkit-scrollbar {
  display: none;
}

/* ========================================
   BADGE E VINCITORE COMPATTI
   ======================================== */

.winner-message {
  padding: 15px 12px; /* Ridotto */
  margin-bottom: 12px; /* Ridotto */
  font-size: 1.1em; /* Ridotto */
}

.game-over-actions {
  margin: 12px 0; /* Ridotto */
}

.game-over-actions button {
  padding: 10px 16px; /* Ridotto */
  font-size: 0.95em; /* Ridotto */
}

/* ========================================
   PREMIUM BADGE COMPATTO
   ======================================== */

.premium-badge {
  padding: 3px 10px !important; /* Più compatto */
  font-size: 0.45em !important; /* Più piccolo */
  margin-left: 8px !important;
}

/* ========================================
   AD BANNER SPACING ADJUSTMENT
   ======================================== */

/* Quando c'è il banner ads, regola padding container */
body.has-ad-banner .container {
  padding-bottom: 140px; /* Space for bottom nav + ad banner */
}

@media (max-width: 600px) {
  body.has-ad-banner .container {
    padding-bottom: 130px;
  }
}

/* ========================================
   RESPONSIVE FONT SCALING
   ======================================== */

@media (max-width: 400px) {
  /* Font ancora più piccoli su schermi molto stretti */
  html {
    font-size: 14px;
  }
  
  .giocatore-nome {
    font-size: 0.95em;
  }
  
  .giocatore-punteggio {
    font-size: 1.2em;
  }
}

@media (min-width: 401px) and (max-width: 600px) {
  html {
    font-size: 15px;
  }
}
